<html>
<head>
<script>

	var IDLE_TIMEOUT = 1800; //seconds
var _idleSecondsTimer = null;
var _idleSecondsCounter = 0;

document.onclick = function() {
    _idleSecondsCounter = 0;
};

document.onmousemove = function() {
    _idleSecondsCounter = 0;
};

document.onkeypress = function() {
    _idleSecondsCounter = 0;
};

_idleSecondsTimer = window.setInterval(CheckIdleTime, 1000);

function CheckIdleTime() {
     _idleSecondsCounter++;
     var oPanel = document.getElementById("SecondsUntilExpire");
     if (oPanel)
         oPanel.innerHTML = (IDLE_TIMEOUT - _idleSecondsCounter) + "";
    if (_idleSecondsCounter >= IDLE_TIMEOUT) {
        window.clearInterval(_idleSecondsTimer);
        alert("Session expired!");
        document.location.href = "/cleanup?name=#[vars.Folder]";
    }
}

</script>
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<!--
<script type="text/javascript">
// Load google charts
google.charts.load('current', {'packages':['corechart']});
google.charts.setOnLoadCallback(drawChart);

// Draw the chart and set the chart values
function drawChart() {
  var data = google.visualization.arrayToDataTable(#[vars.AutomatedRules]);

  // Optional; add a title and set the width and height of the chart
  var options = {'title':'Automated Rules', 'width':550, 'height':450};

  // Display the chart inside the <div> element with id="piechart"
  var chart = new google.visualization.BarChart(document.getElementById('barchartAut'));
  chart.draw(data, options);
}
</script>
<script type="text/javascript">
// Load google charts
google.charts.load('current', {'packages':['corechart']});
google.charts.setOnLoadCallback(drawChart);

// Draw the chart and set the chart values
function drawChart() {
  var data = google.visualization.arrayToDataTable(#[vars.ManualRules]);

  // Optional; add a title and set the width and height of the chart
  var options = {'title':'Manual Rules', 'width':550, 'height':450};

  // Display the chart inside the <div> element with id="piechart"
  var chart = new google.visualization.BarChart(document.getElementById('barchartMan'));
  chart.draw(data, options);
}
</script>-->
<script type="text/javascript">
// Load google charts
google.charts.load('current', {'packages':['corechart']});
google.charts.setOnLoadCallback(drawChart);

// Draw the chart and set the chart values
function drawChart() {
  var data = google.visualization.arrayToDataTable(#[vars.AutomatedRules]);

  // Optional; add a title and set the width and height of the chart
  var options = {'title':'Automated Rules(Total Rules : #[vars.AutomatedTotal], Reviewed : #[vars.AutomatedReviewed])', 'width':550, 'height':450};

  // Display the chart inside the <div> element with id="piechart"
  var chart = new google.visualization.PieChart(document.getElementById('piechartAut'));
  chart.draw(data, options);
}
</script>
<script type="text/javascript">
// Load google charts
google.charts.load('current', {'packages':['corechart']});
google.charts.setOnLoadCallback(drawChart);

// Draw the chart and set the chart values
function drawChart() {
  var data = google.visualization.arrayToDataTable(#[vars.ManualRules]);

  // Optional; add a title and set the width and height of the chart
  var options = {'title':'Manual Rules(Total Rules : #[vars.ManualTotal], Reviewed : #[vars.ManualReviewed])', 'width':550, 'height':450};

  // Display the chart inside the <div> element with id="piechart"
  var chart = new google.visualization.PieChart(document.getElementById('piechartMan'));
  chart.draw(data, options);
}
</script>
<script type="text/javascript">
// Load google charts
google.charts.load('current', {'packages':['corechart']});
google.charts.setOnLoadCallback(drawChart);

// Draw the chart and set the chart values
function drawChart() {
  var data = google.visualization.arrayToDataTable(#[vars.AutomatedRules]);

  // Optional; add a title and set the width and height of the chart
  var options = {'title':'Automated Rules(Total Rules : #[vars.AutomatedTotal], Reviewed : #[vars.AutomatedReviewed])', 'width':550, 'height':450};

  // Display the chart inside the <div> element with id="piechart"
  var chart = new google.visualization.ColumnChart(document.getElementById('columnchartAut'));
  chart.draw(data, options);
}
</script>
<script type="text/javascript">
// Load google charts
google.charts.load('current', {'packages':['corechart']});
google.charts.setOnLoadCallback(drawChart);

// Draw the chart and set the chart values
function drawChart() {
  var data = google.visualization.arrayToDataTable(#[vars.ManualRules]);

  // Optional; add a title and set the width and height of the chart
  var options = {'title':'Manual Rules(Total Rules : #[vars.ManualTotal], Reviewed : #[vars.ManualReviewed])', 'width':550, 'height':450};

  // Display the chart inside the <div> element with id="piechart"
  var chart = new google.visualization.ColumnChart(document.getElementById('columnchartMan'));
  chart.draw(data, options);
}
</script>
<style>
body{
	background-color:#[vars.cleanup_page_background_color];
}
.header{
	background-size: cover;
	
}

.logo{
	padding-bottom:2px;
	text-align:left;
}

.header{
  text-align:center;
  padding:2px 2px;
  padding-right:10px;
  font-family: Roboto Slab;
  font-size: 30px;
  text-transform: uppercase;
  text-rendering: optimizeLegibility;
  color: #131313;
  letter-spacing: .15em;
 text-shadow:
    -1px -1px 0 #767676,
    -1px 2px 1px #737272;
}

input{
                display:inline-block;
				font-family:quicksand;
				font-size:20px;
				padding-top: 120px;
				padding-left:230px;
				padding-bottom:80px;
				align:center;
				margin-left: 310px;
				margin-top:50px;
				border: 2px dashed grey;
				border-width: 12px;
				
            }

.buttonRev{
	border-radius: 15px;
    width:220px;
  height:65px;
  font-family: quicksand;
  font-size: 20px;
  margin:40px;
  border:none;
  outline:none;
  background-color:#[vars.button_color];
  color:#[vars.font_color];
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
}
.buttonRev:hover{
	box-shadow: 0px 12px 16px 0px rgba(0,0,0,0.2);
}
.buttonRev:active{
	border:none;
}
.buttondld{
  border-radius: 15px;
  width:220px;
  height:65px;
  font-family: quicksand;
  font-size: 20px;
  margin:40px;
  border:none;
  outline:none;
  background-color:#[vars.button_color];
  color:#[vars.font_color];
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
}
.buttondld:hover{
	box-shadow: 0px 12px 16px 0px rgba(0,0,0,0.2);
}
.buttondld:active{
	border:none;
}		
.buttonshr{
  border-radius: 15px;
  text-decoration: none;
  width:220px;
  height:65px;
  font-family: quicksand;
  font-size: 20px;
  border-radius: 15px;
  background-color:#[vars.button_color];
  color:#[vars.font_color];
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
  border:none;
  outline:none;
}
.buttonshr:hover{
	box-shadow: 0px 12px 16px 0px rgba(0,0,0,0.2);
}
.buttonshr:active{
	border:none;
}	

.AnalysisData{
	font-family:Pridi;
	font-size:18px;
}
.Analysistd{
	padding-right:23px;
}
.AnalysisLabel{
	font-weight:bold;
}

</style>
 <title>#[vars.Analysis_page_title]</title>
<link href="https://fonts.googleapis.com/css?family=Pridi:300|Quattrocento|Quicksand|Roboto+Slab&display=swap" rel="stylesheet">
</head>
<body>
<div class="container">
<div class="header">
<img style="float: left;" class="logo" src="https://www.ibm.com/innovate/branding/logoartwork/logoartwork.nsf/IBM_logoRR_pos_RGB.gif" width="200" height="158" />
<img style="float: right;" class="logo" src="#[vars.client_logo]" width="200" height="158" />
<p>#[vars.Analysis_page_header]</p>
</div>
<table class="AnalysisData" align="center">
<tr><td class="Analysistd"><label class="AnalysisLabel">Service Name :</label> #[vars.serviceName]</td><td class="Analysistd"><label class="AnalysisLabel">Mule Version :</label> #[vars.muleVersion]</td><td class="Analysistd"><label class="AnalysisLabel">Timestamp :</label> #[vars.datetime]</td></tr>
</table>
<br/>
<table class="tablewrap" align="center">
<tr>
<td align="left"><div id="piechartAut"></div></td>
<td align="right"><div id="piechartMan"></div></td>
</tr>
<tr>
<td align="left"><div id="columnchartAut"></div></td>
<td align="right"><div id="columnchartMan"></div></td>
</tr>
</table>
<br/>
<table class="options" align="center"><tr>
<td class="download"><form action="#[p('application.name')]download/#[vars.Folder]" enctype="multipart/form-data" method="POST">
<button class="buttondld" type="submit">download</button>
</form></td>
<td class="download"><form action="#[p('application.name')]SendEmail/#[vars.Folder]" enctype="multipart/form-data" method="POST">
<button class="buttonshr">Share</a>
</form></td>
<td class="download"><form action="#[p('application.name')]mulecodereviewer?name=#[vars.Folder]" enctype="multipart/form-data" method="POST">
<button class="buttonRev" type="submit">Start Again</button>
</form></td></tr>
</table>
  </body>
  </html>